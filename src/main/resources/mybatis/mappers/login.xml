<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sboot.pro.argus.dao.LoginDAO">
	<select id="login" parameterType="String" resultType="loginVO">
		select * from login where login_id=#{login_id} and login_pwd=#{login_pwd};
	</select>
	
	<!-- 마이 페이지 -->
	<select id="selectMyPage" parameterType="String">
		select * from login where login_id=#{myId}
	</select>
	
	<!-- 마이페이지 수정 -->
	<update id="updateMyPage" parameterType="LoginVO">
		update login
		set login_name = #{login_name},
		login_department = #{login_department},
		login_position = #{login_position},
		login_signName = #{login_signName}
		where login_id = #{login_id}
	</update>
	
	<!-- 비밀번호 저장 -->
	<update id="updatePassword" parameterType="Map">
		update login
		set login_pwd = #{changePassword}
		where login_id = #{myId}
	</update>
	
	
	<!-- 2025-11-26 -->
	<!-- 회원가입 -->
	<select id="singUpList">
		select distinct login_department, login_area from login;
	</select>
	
	<insert id="insertSignUp">
		insert into login(login_id, login_pwd, login_area, login_name, login_position, login_department)
		values (#{login_id}, #{login_pwd}, #{login_area}, #{login_name}, #{login_position}, #{login_department})
	</insert>
	
	<!-- 아이디 중복 체크 -->
	<select id="checkDuplicate" parameterType="String">
		select count(*) from login where login_id = #{login_id}
	</select>
	
	<!-- 아이디 목록 -->
	<select id="memberList">
		select * from login;
	</select>
	
	<!-- 회원 탈퇴 -->
	<delete id="deleteMember">
		delete from login where login_num = #{login_num}
	</delete>
	
	<!-- 사인 찾기 -->
	<select id="searchSign">
		select login_signName from login where login_department = #{login_department}
	</select>
</mapper>